---
import Skin from "./skin.astro";
import { memberSkins } from "../data/skinsData.js";
---

<section class="destiny-section section-container">
    <div class="content-wrapper">
        <h2 class="section-title">Trayectoria Britannica</h2>
        <p class="section-subtitle">
            Explora los perfiles y logros de nuestros miembros destacados.
        </p>

        <div class="skins-grid">
            <Skin skinsToDisplay={memberSkins} interactive={true} />
        </div>
    </div>
</section>

<script>
    // Client-side randomization
    document.addEventListener("DOMContentLoaded", () => {
        const grid = document.querySelector(
            ".skins-grid .skin-viewers-container",
        );
        if (grid) {
            const items = Array.from(grid.children);
            items.sort(() => Math.random() - 0.5);
            items.forEach((item) => grid.appendChild(item));
        }
    });
</script>

<style>
    .destiny-section {
        position: relative;
        background: linear-gradient(
            to bottom,
            var(--color-bg-dark),
            var(--color-bg)
        );
    }

    /* Subtle divider line at top */
    .destiny-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.1),
            transparent
        );
    }

    .content-wrapper {
        text-align: center;
    }

    .section-title {
        font-size: clamp(2rem, 4vw, 3rem);
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-bottom: var(--space-xs);
        background: linear-gradient(45deg, #ff6b00, #ff7009);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .section-subtitle {
        font-size: 1.1rem;
        color: rgba(255, 255, 255, 0.6);
        margin-bottom: var(--space-xl);
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .skins-grid {
        display: flex;
        justify-content: center;
        gap: var(--space-lg);
        flex-wrap: wrap;
    }
</style>
